{"ast":null,"code":"/*\nGoal: generate faces that are parameterized by at least 3 variables\n\nThis one didn't really grab me too much creatively, - I think I got bogged down in the learning.\nIt was a great learning exercise though, I got quite a good crash course in drawing shapes with p5,\nand using Perlin noise to make adjustments at the point level to give the shapes a hand-drawn feel.\n\nPress any key for a fun surprise!\n\nA fun stretch goal for this one for the future would be to use real faces. Like, you take a photo of your face,\nthe program parametrically warps it. This is much more complicated though, would need to learn some computer vision\ntechniques lol\n\n*/function get_point_with_perlin_noise(p5,xCoord,yCoord,noiseFactor){if(noiseFactor===undefined){noiseFactor=Math.random()*4;}// Apply Perlin noise to add smooth randomness to the vertex positions\nconst noiseVal=p5.noise(xCoord*0.01,yCoord*0.01,noiseFactor*0.01);const offsetX=p5.map(noiseVal,0,1,-15,15);const offsetY=p5.map(noiseVal,0,1,-15,15);return{x:xCoord+offsetX,y:yCoord+offsetY};}function draw_perlin_arc(p5,centerX,centerY,size,noiseFactor,start_angle,end_angle){const numPoints=100;let outline_points=[];for(let i=0;i<=numPoints;i++){const angle=p5.map(i,0,numPoints,start_angle,end_angle);let xCoord=centerX+size*p5.cos(angle);let yCoord=centerY+size*p5.sin(angle);outline_points[i]=get_point_with_perlin_noise(p5,xCoord,yCoord,noiseFactor);}p5.beginShape();for(let i=0;i<=numPoints;i++){const{x,y}=outline_points[i];p5.vertex(x,y);}p5.endShape();}function draw_perlin_circle(p5,centerX,centerY,size,noiseFactor){draw_perlin_arc(p5,centerX,centerY,size,noiseFactor,0,p5.TWO_PI);}function draw_perlin_line(p5,startX,startY,endX,endY){const numPoints=100;let outline_points=[];for(let i=0;i<=numPoints;i++){let xCoord=p5.lerp(startX,endX,p5.map(i,0,numPoints,0.0,1.0));let yCoord=p5.lerp(startY,endY,p5.map(i,0,numPoints,0.0,1.0));outline_points[i]=get_point_with_perlin_noise(p5,xCoord,yCoord);}p5.beginShape();for(let i=0;i<=numPoints;i++){const{x,y}=outline_points[i];p5.vertex(x,y);}p5.endShape();}class Eyes{constructor(centerX,centerY){this.right_eye_points=[];this.left_eye_points=[];this.eye_saturation=60;this.eye_brightness=75;this.centerX=centerX;this.centerY=centerY;this.eye_distance=Math.floor(Math.random()*10+40);this.eye_size=Math.floor(Math.random()*10+25);this.eye_coords={right:{x:this.centerX-this.eye_distance,y:this.centerY-25},left:{x:this.centerX+this.eye_distance,y:this.centerY-25}};this.eye_hue=Math.floor(Math.random()*(300-150)+150);}draw(p5){if(third_eye){this.draw_third_eye(p5);return;}p5.stroke(0);draw_perlin_line(p5,this.centerX,this.centerY-33,this.centerX,this.centerY-79);p5.noStroke();p5.fill(\"white\");draw_perlin_circle(p5,this.eye_coords.right.x,this.eye_coords.right.y,this.eye_size,0);draw_perlin_circle(p5,this.eye_coords.left.x,this.eye_coords.left.y,this.eye_size,0);p5.noStroke();p5.fill(this.eye_hue,this.eye_saturation,this.eye_brightness);draw_perlin_circle(p5,this.eye_coords.right.x,this.eye_coords.right.y,this.eye_size/2,0);draw_perlin_circle(p5,this.eye_coords.left.x,this.eye_coords.left.y,this.eye_size/2,0);p5.fill(\"black\");draw_perlin_circle(p5,this.eye_coords.right.x,this.eye_coords.right.y,this.eye_size/3,0);draw_perlin_circle(p5,this.eye_coords.left.x,this.eye_coords.left.y,this.eye_size/3,0);p5.fill(\"white\");}draw_third_eye(p5){p5.stroke(0);draw_perlin_arc(p5,this.eye_coords.right.x,this.eye_coords.right.y,this.eye_size,Math.random()*4,0,p5.PI);draw_perlin_arc(p5,this.eye_coords.left.x,this.eye_coords.left.y,this.eye_size,Math.random()*4,0,p5.PI);p5.noStroke();p5.fill(\"white\");draw_perlin_arc(p5,this.centerX-this.eye_size/2,this.centerY-55,this.eye_size,0,5*p5.PI/3,p5.TWO_PI+p5.PI/3);draw_perlin_arc(p5,this.centerX+this.eye_size/2,this.centerY-55,this.eye_size,0,2*p5.PI/3,4*p5.PI/3);p5.noStroke();p5.fill(eye_hue,this.eye_saturation,this.eye_brightness);draw_perlin_circle(p5,this.centerX,this.centerY-56,this.eye_size/2,0);p5.stroke(0);p5.fill(\"black\");draw_perlin_circle(p5,this.centerX,this.centerY-56,this.eye_size/4,0);p5.fill(\"white\");}}class Face{constructor(p5,centerX,centerY){this.face_points=[];this.size=100;this.centerX=centerX;this.centerY=centerY;this.face_points=this.face_outline_points(p5);this.skin_tone=p5.color(Math.floor(Math.random()*40),Math.floor(Math.random()*30),Math.floor(Math.random()*40+60));this.eyes=new Eyes(centerX,centerY);this.mouthControlPoint={x:this.centerX,y:this.centerY+Math.floor(Math.random()*90)};this.mouthHeight=Math.floor(Math.random()*10)+35;}face_outline_points(p5){const radius=100;const numPoints=100;let points=[];let taperMin=p5.map(Math.random(),0,1,0.8,1.25);for(let i=0;i<numPoints;i++){const angle=p5.map(i,0,numPoints,0,p5.TWO_PI);let taperFactor=1;if(i<numPoints/2){if(i<=numPoints/8){taperFactor=p5.map(i,0,numPoints*1/8,1,taperMin);}else if(i<=numPoints/4){taperFactor=p5.map(i,numPoints/8,numPoints/4,taperMin,1);}else if(i<=numPoints*(3/8)){taperFactor=p5.map(i,numPoints/4,numPoints*(3/8),1,taperMin);}else if(i>=numPoints*(3/8)){taperFactor=p5.map(i,numPoints*(3/8),numPoints/2,taperMin,1);}}let xCoord=this.centerX+radius*p5.cos(angle)*taperFactor;let yCoord=this.centerY+radius*p5.sin(angle)*taperFactor;points[i]=get_point_with_perlin_noise(p5,xCoord,yCoord,2);}return points;}draw_face_outline(p5){p5.fill(this.skin_tone);p5.noStroke();p5.beginShape();for(let i=0;i<this.face_points.length;i++){const{x,y}=this.face_points[i];p5.vertex(x,y);}p5.endShape(p5.CLOSE);}mouth(p5){// if (third_eye) {\n//   fill(\"black\");\n//   draw_perlin_circle(this.centerX, this.centerY + 50, 30);\n//   fill(\"white\");\n//   return;\n// }\np5.stroke(0);p5.fill(this.skin_tone);p5.beginShape();p5.vertex(this.centerX-this.mouthHeight,this.centerY+this.mouthHeight);p5.quadraticVertex(this.mouthControlPoint.x,this.mouthControlPoint.y,this.centerX+this.mouthHeight,this.centerY+this.mouthHeight);p5.endShape();}hair(){}draw_face(p5){this.draw_face_outline(p5);this.eyes.draw(p5);this.mouth(p5);}}let third_eye=false,eye_hue=0,gradient_position=0.0,up=true;let faces=[];function setup(p5){p5.createCanvas(1200,400);p5.colorMode(p5.HSB);let centerX=200,centerY=200;for(let i=0;i<4;i++){faces[i]=new Face(p5,centerX,centerY);centerX+=250;}}function draw(p5){if(third_eye){eye_hue=p5.lerp(0,360,gradient_position);if(up){gradient_position+=0.004;}else{gradient_position-=0.004;}if(gradient_position<=0.0||gradient_position>=1.0){up=!up;}p5.background(p5.color(eye_hue,13,98));}else{p5.background(p5.color(312,8,100));}//draw 4 randomly proportioned faces\nfor(let j=0;j<faces.length;j++){faces[j].draw_face(p5);}}function keyPressed(){third_eye=!third_eye;}export{setup,draw,keyPressed};","map":{"version":3,"names":["get_point_with_perlin_noise","p5","xCoord","yCoord","noiseFactor","undefined","Math","random","noiseVal","noise","offsetX","map","offsetY","x","y","draw_perlin_arc","centerX","centerY","size","start_angle","end_angle","numPoints","outline_points","i","angle","cos","sin","beginShape","vertex","endShape","draw_perlin_circle","TWO_PI","draw_perlin_line","startX","startY","endX","endY","lerp","Eyes","constructor","right_eye_points","left_eye_points","eye_saturation","eye_brightness","eye_distance","floor","eye_size","eye_coords","right","left","eye_hue","draw","third_eye","draw_third_eye","stroke","noStroke","fill","PI","Face","face_points","face_outline_points","skin_tone","color","eyes","mouthControlPoint","mouthHeight","radius","points","taperMin","taperFactor","draw_face_outline","length","CLOSE","mouth","quadraticVertex","hair","draw_face","gradient_position","up","faces","setup","createCanvas","colorMode","HSB","background","j","keyPressed"],"sources":["/Users/katieadamsky/katie-adamsky.github.io/site/src/pages/projects/faces/sketch.js"],"sourcesContent":["/*\nGoal: generate faces that are parameterized by at least 3 variables\n\nThis one didn't really grab me too much creatively, - I think I got bogged down in the learning.\nIt was a great learning exercise though, I got quite a good crash course in drawing shapes with p5,\nand using Perlin noise to make adjustments at the point level to give the shapes a hand-drawn feel.\n\nPress any key for a fun surprise!\n\nA fun stretch goal for this one for the future would be to use real faces. Like, you take a photo of your face,\nthe program parametrically warps it. This is much more complicated though, would need to learn some computer vision\ntechniques lol\n\n*/\n\n\nfunction get_point_with_perlin_noise(p5, xCoord, yCoord, noiseFactor) {\n    if (noiseFactor === undefined) {\n      noiseFactor = Math.random()*4;\n    }\n    // Apply Perlin noise to add smooth randomness to the vertex positions\n    const noiseVal = p5.noise(xCoord * 0.01, yCoord * 0.01, noiseFactor*0.01);\n    const offsetX = p5.map(noiseVal, 0, 1, -15, 15);\n    const offsetY = p5.map(noiseVal, 0, 1, -15, 15);\n    return {x: xCoord+offsetX, y: yCoord+offsetY};\n  }\n  \n  function draw_perlin_arc(p5, centerX, centerY, size, noiseFactor, start_angle, end_angle) {\n      const numPoints = 100;\n      let outline_points = [];\n      for (let i=0; i <= numPoints; i++) {\n        const angle = p5.map(i, 0, numPoints, start_angle, end_angle);\n        let xCoord = centerX + size * p5.cos(angle);\n        let yCoord = centerY + size * p5.sin(angle);\n        \n        outline_points[i] = get_point_with_perlin_noise(p5, xCoord, yCoord, noiseFactor);\n      }\n  \n      p5.beginShape();\n      for(let i = 0; i <= numPoints; i++) {\n        const { x, y } = outline_points[i];\n        p5.vertex(x, y);\n      }\n      p5.endShape();\n  }\n  \n  \n    function draw_perlin_circle(p5, centerX, centerY, size, noiseFactor) {\n      draw_perlin_arc(p5, centerX, centerY, size, noiseFactor, 0, p5.TWO_PI);\n    }\n  \n    function draw_perlin_line(p5, startX, startY, endX, endY) {\n      const numPoints = 100;\n      let outline_points = [];\n      for (let i=0; i <= numPoints; i++) {\n        let xCoord = p5.lerp(startX, endX, p5.map(i, 0, numPoints, 0.0, 1.0));\n        let yCoord = p5.lerp(startY, endY, p5.map(i, 0, numPoints, 0.0, 1.0));\n        \n        outline_points[i] = get_point_with_perlin_noise(p5, xCoord, yCoord);\n      }\n  \n      p5.beginShape();\n      for(let i = 0; i <= numPoints; i++) {\n        const { x, y } = outline_points[i];\n        p5.vertex(x, y);\n      }\n      p5.endShape();\n    }\n  \n  class Eyes {\n    centerX;\n    centerY;\n    right_eye_points = [];\n    left_eye_points = [];\n    eye_coords;\n    eye_hue;\n    eye_saturation = 60;\n    eye_brightness = 75;\n  \n    constructor(centerX, centerY) {\n      this.centerX = centerX;\n      this.centerY = centerY;\n      this.eye_distance = Math.floor(Math.random()*10 + 40);\n      this.eye_size = Math.floor(Math.random()*10+25);\n      this.eye_coords = {\n        right: {x: this.centerX - this.eye_distance, y: this.centerY - 25},\n        left: {x: this.centerX + this.eye_distance, y: this.centerY - 25},\n      }\n      this.eye_hue = Math.floor(Math.random()*(300-150)+150);\n    }\n  \n  \n    draw(p5) {\n      if (third_eye) {\n        this.draw_third_eye(p5);\n        return;\n      }\n      p5.stroke(0);\n      draw_perlin_line(p5, this.centerX, this.centerY - 33, this.centerX, this.centerY - 79);\n      p5.noStroke();\n      p5.fill(\"white\");\n      draw_perlin_circle(p5, this.eye_coords.right.x, this.eye_coords.right.y, this.eye_size,0);\n      draw_perlin_circle(p5, this.eye_coords.left.x, this.eye_coords.left.y, this.eye_size,0);\n  \n      p5.noStroke();\n  \n      p5.fill(this.eye_hue, this.eye_saturation, this.eye_brightness);\n      draw_perlin_circle(p5, this.eye_coords.right.x, this.eye_coords.right.y, this.eye_size /2, 0);\n      draw_perlin_circle(p5, this.eye_coords.left.x, this.eye_coords.left.y, this.eye_size /2, 0);\n  \n  \n      p5.fill(\"black\");\n      draw_perlin_circle(p5, this.eye_coords.right.x, this.eye_coords.right.y, this.eye_size /3, 0);\n      draw_perlin_circle(p5, this.eye_coords.left.x, this.eye_coords.left.y, this.eye_size /3, 0);\n      p5.fill(\"white\");\n    }\n  \n    draw_third_eye(p5) {\n      p5.stroke(0);\n      draw_perlin_arc(p5, this.eye_coords.right.x, this.eye_coords.right.y, this.eye_size, Math.random()*4, 0, p5.PI);\n      draw_perlin_arc(p5, this.eye_coords.left.x, this.eye_coords.left.y, this.eye_size, Math.random()*4, 0, p5.PI);\n      p5.noStroke();\n  \n      p5.fill(\"white\");\n      draw_perlin_arc(p5, this.centerX-this.eye_size/2, this.centerY-55, this.eye_size, 0, 5*p5.PI/3, p5.TWO_PI+p5.PI/3);\n      draw_perlin_arc(p5, this.centerX+this.eye_size/2, this.centerY-55, this.eye_size, 0, 2*p5.PI/3, 4*p5.PI/3);\n      p5.noStroke();\n  \n      p5.fill(eye_hue, this.eye_saturation, this.eye_brightness);\n      draw_perlin_circle(p5, this.centerX, this.centerY - 56, this.eye_size /2, 0);\n      p5.stroke(0);\n  \n      p5.fill(\"black\");\n      draw_perlin_circle(p5, this.centerX, this.centerY - 56, this.eye_size /4, 0);\n      p5.fill(\"white\");\n  \n    }\n  }\n  \n  class Face {\n    face_points = [];\n    size = 100;\n    centerX;\n    centerY;\n    eyes;\n    mustache;\n    mouthControlPoint;\n    mouthHeight;\n    skin_tone;\n  \n    constructor(p5, centerX, centerY) {\n      this.centerX = centerX;\n      this.centerY = centerY;\n      this.face_points = this.face_outline_points(p5);\n      this.skin_tone = p5.color(Math.floor(Math.random()*40), Math.floor(Math.random()*30), Math.floor(Math.random()*40+60));\n  \n      this.eyes = new Eyes(centerX, centerY);\n      this.mouthControlPoint = {x: this.centerX, y: this.centerY + Math.floor(Math.random()*90)}\n      this.mouthHeight = Math.floor(Math.random()*10) + 35;\n    }\n  \n    face_outline_points(p5) {\n      const radius = 100;\n      const numPoints = 100;\n      let points = [];\n      let taperMin = p5.map(Math.random(), 0, 1, 0.8, 1.25);\n      \n      for (let i = 0; i < numPoints; i++) {\n        const angle = p5.map(i, 0, numPoints, 0, p5.TWO_PI);\n        let taperFactor = 1;\n        if (i < (numPoints/2)) {\n          if (i <= numPoints/8) {\n            taperFactor = p5.map(i, 0, numPoints*1/8, 1, taperMin);\n          } else if (i <= numPoints/4) {\n            taperFactor = p5.map(i, numPoints/8, numPoints/4, taperMin, 1);\n          } else if (i <= numPoints *(3/8)) {\n            taperFactor = p5.map(i, numPoints/4, numPoints*(3/8), 1, taperMin);\n          }\n          else if(i >= numPoints*(3/8)) {\n            taperFactor = p5.map(i, numPoints*(3/8), numPoints/2, taperMin, 1);\n          } \n        }\n        let xCoord = this.centerX + radius * p5.cos(angle)*taperFactor;\n        let yCoord = this.centerY + radius * p5.sin(angle)*taperFactor;\n  \n        points[i] = get_point_with_perlin_noise(p5, xCoord, yCoord, 2);\n      }\n      return points;\n    }\n  \n    draw_face_outline(p5) {\n      p5.fill(this.skin_tone);\n      p5.noStroke();\n      p5.beginShape();\n      for (let i = 0; i < this.face_points.length; i++) {\n        const { x, y } = this.face_points[i];\n        p5.vertex(x, y);\n      }\n      p5.endShape(p5.CLOSE);\n    }\n  \n    mouth(p5) {\n      // if (third_eye) {\n      //   fill(\"black\");\n      //   draw_perlin_circle(this.centerX, this.centerY + 50, 30);\n      //   fill(\"white\");\n      //   return;\n      // }\n      p5.stroke(0);\n      p5.fill(this.skin_tone);\n      p5.beginShape();\n      p5.vertex(this.centerX - this.mouthHeight, this.centerY + this.mouthHeight);\n      p5.quadraticVertex(this.mouthControlPoint.x, this.mouthControlPoint.y, this.centerX+this.mouthHeight, this.centerY+this.mouthHeight);\n      p5.endShape();\n    }\n  \n    hair() {\n  \n    }\n  \n    draw_face(p5) {\n      this.draw_face_outline(p5);\n      this.eyes.draw(p5);\n      this.mouth(p5);\n    }\n  \n  }\n  \n  let third_eye = false, eye_hue = 0, gradient_position = 0.0, up = true;\n  let faces = [];\n  \n  function setup(p5) {\n    p5.createCanvas(1200, 400);\n    p5.colorMode(p5.HSB); \n  \n    let centerX = 200, centerY = 200;\n    for (let i=0; i<4; i++) {\n      faces[i] = new Face(p5, centerX, centerY);\n      centerX += 250;\n    }\n  }\n  \n  function draw(p5) {\n    if (third_eye) {\n      eye_hue = p5.lerp(0, 360, gradient_position);\n      if (up) {\n        gradient_position += 0.004;\n      } else {\n        gradient_position -= 0.004;\n      }\n      if (gradient_position <= 0.0 || gradient_position >= 1.0) {\n        up = !up;\n      }\n      p5.background(p5.color(eye_hue, 13, 98));\n    } else {\n      p5.background(p5.color(312, 8, 100));\n    }\n  \n  \n    //draw 4 randomly proportioned faces\n    for(let j = 0; j < faces.length; j++) {\n      faces[j].draw_face(p5);\n    }\n  }\n  \n  function keyPressed() {\n    third_eye = !third_eye;\n  }\n  \n  export {setup, draw, keyPressed}\n  "],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}